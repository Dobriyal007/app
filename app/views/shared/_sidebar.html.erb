<nav class="navbar bg-primary" data-bs-theme="dark">
  <div class="container-fluid">
    <%= link_to "Home", new_fa_path, class: "navbar-brand", style: "color: white; font-weight: bold;" %>
    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar" aria-label="Toggle navigation" data-bs-toggle="tooltip" data-bs-placement="down" title="Menu Page">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="offcanvas offcanvas-start text-bg-white" style="background-color: #0D6EDD;" tabindex="-1" id="offcanvasDarkNavbar" aria-labelledby="offcanvasDarkNavbarLabel">
      <div class="offcanvas-header">
        <h4 class="offcanvas-title" id="offcanvasDarkNavbarLabel" style="color: white;">Content</h4>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
          <li class="nav-item">
            <%= link_to "Home", new_fa_path, class: 'nav-link active', aria: { current: 'page' }, style: "color: white;" %>
          </li>
          <li class="nav-item">
            <%= link_to "FA List", root_path, class: 'nav-link active', style: "color: white;" %>
          </li>
          <li class="nav-item">
            <%= link_to "Failure Analysis Data", submitted_data_fa_path(2), class: 'nav-link active', style: "color: white;" %>
          </li>
          <li class="nav-item">
            <%= link_to "Search Barcode", search_fas_path, class: 'nav-link active', style: "color: white;", id: 'openPasswordModal', data: { bs_toggle: 'offcanvas', target: '#offcanvasPassword' } %>
          </li>
          <li class="nav-item">
            <%= link_to "FA Dashboard", graphs_fas_path, class: 'nav-link active', style: "color: white;" %>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<div class="offcanvas offcanvas-start text-bg-white" style="background-color: #0D6EDD;" tabindex="-1" id="offcanvasPassword" aria-labelledby="offcanvasPasswordLabel">
  <div class="offcanvas-header">
    <h4 class="offcanvas-title" id="offcanvasPasswordLabel" style="color: white;">Enter Password</h4>
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <%= form_with url: search_fas_path, method: :post do %>
      <div class="mb-3">
        <%= label_tag :password, 'Password:', class: 'form-label', style: 'color: white;' %>
        <%= password_field_tag :password, nil, class: 'form-control', style: 'color: black;' %>
      </div>
      <%= submit_tag 'Submit', class: 'btn btn-primary', style: 'color: white; background-color: mediumblue;' %>
    <% end %>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
  $(document).ready(function() {
    $('#openPasswordModal').on('click', function() {
      $('#offcanvasPassword').offcanvas('show');
    });
  });
</script>
